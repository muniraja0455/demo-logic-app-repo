trigger:
  branches:
    include:
      - main

pool:
  vmImage: 'windows-latest'

variables:
  resourceGroup: 'SubscriptionMR_ResourceGroup'
  logicAppName: 'demo-logicapp'
  location: 'East US'

steps:
- task: AzureCLI@2
  inputs:
    azureSubscription: '49bc2f21-292d-456a-8954-3c7be8facd53'
    scriptType: 'ps'
    scriptLocation: 'inlineScript'
    inlineScript: |
      az logicapp deployment create \
        --resource-group $(resourceGroup) \
        --name $(logicAppName) \
        --location $(location) \
        --src-path $(System.DefaultWorkingDirectory)/demoapp-workflow